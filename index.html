<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIPHER Architecture</title>
    <style>
        /* Global Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* Body & Typography */
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0a1628 0%, #0d1b2a 50%, #1b263b 100%);
            color: #e0e1dd;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            position: relative;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
        }
        
        .header h1 {
            font-size: 32px; /* Increased size for impact */
            color: #ffa500;
            letter-spacing: 4px;
            text-transform: uppercase;
            margin-bottom: 8px;
            text-shadow: 0 0 10px rgba(255, 165, 0, 0.5); /* Added glow */
        }
        
        .header .subtitle {
            font-size: 18px; /* Increased size */
            color: #778da9;
            letter-spacing: 2px;
        }
        
        /* Architecture Layout */
        .architecture {
            position: relative;
            padding: 40px 20px;
        }
        
        /* Grid Layout */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            position: relative;
        }
        
        .module {
            background: rgba(15, 30, 50, 0.9); /* Slightly more opaque */
            border: 2px solid #415a77;
            border-radius: 8px;
            padding: 20px;
            position: relative;
            backdrop-filter: blur(5px); /* Reduced blur for performance/clarity */
            transition: all 0.3s ease;
            min-height: 200px; /* Standardize module height */
        }
        
        .module:hover {
            border-color: #ffa500;
            box-shadow: 0 0 25px rgba(255, 165, 0, 0.4);
            transform: translateY(-5px); /* More pronounced hover */
        }
        
        .large-module {
            grid-column: span 2;
        }
        
        /* Module Content */
        .module-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #415a77; /* Changed to dashed for cyber feel */
        }
        
        .module-icon {
            font-size: 36px;
            filter: drop-shadow(0 0 8px currentColor);
            color: #4cc9f0; /* New highlight color for icons */
        }
        
        .module-title {
            font-size: 16px;
            color: #ffa500;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .module-content {
            font-size: 12px; /* Increased readability */
            line-height: 1.6;
            color: #b8c5d6;
        }
        
        .module-content ul {
            list-style: none;
            padding-left: 0;
            margin-top: 10px;
        }
        
        .module-content li {
            padding-left: 15px;
            position: relative;
            margin-bottom: 5px;
        }
        
        .module-content li:before {
            content: "‚Üí"; /* New bullet point */
            position: absolute;
            left: 0;
            color: #ffa500;
            font-weight: bold;
        }
        
        .tech-tag {
            display: inline-block;
            background: rgba(76, 201, 240, 0.1); /* New tag color from icon */
            color: #4cc9f0;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 10px;
            margin: 3px 3px 3px 0;
            border: 1px solid rgba(76, 201, 240, 0.3);
        }

        /* Architectural Accents */
        .layer-badge {
            position: absolute;
            top: -15px; /* Moved up */
            right: -15px; /* Moved right */
            background: #ffa500;
            color: #0a1628;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900; /* Bolder */
            font-size: 18px;
            box-shadow: 0 0 20px rgba(255, 165, 0, 0.7);
            z-index: 10;
        }
        
        .corner-accent {
            display: none; /* Removed corner accents as layer badge is enough */
        }
        
        .security-badge {
            position: absolute;
            bottom: -50px; /* Moved below the grid */
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid #ff4444;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 11px;
            color: #ff8888;
            white-space: nowrap;
            margin-top: 30px;
        }
        
        .glow-text {
            color: #ff4444;
            text-shadow: 0 0 10px rgba(255, 68, 68, 0.5);
            font-weight: bold;
        }
        
        /* Connecting Lines (SVG) */
        svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .grid-container > * {
            position: relative;
            z-index: 2;
        }
        
        .flow-arrow {
            stroke: #4cc9f0; /* Changed to icon color for visual link */
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 8, 4;
            opacity: 0.7;
            animation: dash 10s linear infinite;
            marker-end: url(#arrowhead); /* Add marker for directional flow */
        }

        /* Marker definition for the arrow tip */
        #connections defs marker {
            fill: #4cc9f0;
        }
        
        @keyframes dash {
            to {
                stroke-dashoffset: -1000;
            }
        }

        /* Simplified Flow Labeling (removed JS flow labeling to avoid complexity) */
        .module-link-label {
            position: absolute;
            background: #0d1b2a;
            color: #4cc9f0;
            font-size: 9px;
            padding: 2px 5px;
            border-radius: 3px;
            border: 1px solid #415a77;
            z-index: 3;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîê CIPHER Architecture</h1>
            <div class="subtitle">Cybercrime Intelligence & Predictive Hotspot Engine for Response | SIH 2025</div>
        </div>
        
        <div class="architecture">
            <svg id="connections">
                <defs>
                    <marker id="arrowhead" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                        <path d="M 0 0 L 10 5 L 0 10 z" />
                    </marker>
                </defs>
                </svg>
            
            <div class="grid-container">
                <div class="module" id="sources">
                    <div class="layer-badge">1</div>
                    <div class="module-header">
                        <div class="module-icon">üåê</div>
                        <div class="module-title">Data Sources</div>
                    </div>
                    <div class="module-content">
                        <ul>
                            <li>NCRP Portal (Multilingual)</li>
                            <li>I4C Databases</li>
                            <li>Bank SOC Systems</li>
                            <li>ATM Transaction Logs</li>
                            <li>CERT-In Intelligence</li>
                        </ul>
                    </div>
                </div>
                
                <div class="module" id="ingestion">
                    <div class="layer-badge">1</div>
                    <div class="module-header">
                        <div class="module-icon">üì•</div>
                        <div class="module-title">Stream Processing</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">Apache Kafka</span>
                        <span class="tech-tag">Apache Flink</span>
                        <ul>
                            <li>Real-time Event Streaming</li>
                            <li>Data Pipeline Management</li>
                            <li>Message Queuing</li>
                        </ul>
                    </div>
                </div>
                
                <div class="module large-module" id="preprocessing">
                    <div class="layer-badge">2</div>
                    <div class="module-header">
                        <div class="module-icon">üîÑ</div>
                        <div class="module-title">Multilingual NLP Pipeline</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">fastText</span>
                        <span class="tech-tag">IndicTrans2</span>
                        <span class="tech-tag">Indic NLP</span>
                        <ul>
                            <li>Language Detection (22+ Indian Languages)</li>
                            <li>Translation to Standard Format</li>
                            <li>PII Anonymization & Data Cleaning</li>
                            <li>Text Tokenization & Normalization</li>
                        </ul>
                    </div>
                </div>
                
                <div class="module large-module" id="nlp">
                    <div class="layer-badge">3</div>
                    <div class="module-header">
                        <div class="module-icon">üß†</div>
                        <div class="module-title">NLP Intelligence</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">spaCy</span>
                        <span class="tech-tag">Hugging Face</span>
                        <span class="tech-tag">BERT</span>
                        <ul>
                            <li>Named Entity Recognition: **Bank, UPI, Phone, Location**</li>
                            <li>Intent Classification & **Fraud Type Detection**</li>
                            <li>Risk & Urgency Assessment</li>
                        </ul>
                    </div>
                </div>
                
                <div class="module" id="ml">
                    <div class="layer-badge">3</div>
                    <div class="module-header">
                        <div class="module-icon">üéØ</div>
                        <div class="module-title">Predictive Models</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">XGBoost</span>
                        <span class="tech-tag">TensorFlow</span>
                        <ul>
                            <li>**Hotspot Prediction** (Spatial & Temporal)</li>
                            <li>Risk Scoring & Pattern Detection</li>
                        </ul>
                    </div>
                </div>
                
                <div class="module" id="geospatial">
                    <div class="layer-badge">3</div>
                    <div class="module-header">
                        <div class="module-icon">üó∫Ô∏è</div>
                        <div class="module-title">Geospatial Analytics</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">PostGIS</span>
                        <span class="tech-tag">GeoPandas</span>
                        <ul>
                            <li>Spatial Clustering (DBSCAN/KDE)</li>
                            <li>Location Hotspots & **Zone Risk Mapping**</li>
                        </ul>
                    </div>
                </div>

                <div class="module" id="storage">
                    <div class="layer-badge">4</div>
                    <div class="module-header">
                        <div class="module-icon">üíæ</div>
                        <div class="module-title">Data Storage & Caching</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">PostgreSQL/InfluxDB</span>
                        <span class="tech-tag">Redis Cache</span>
                        <ul>
                            <li>Structured Data (RDBMS)</li>
                            <li>Time-series Data</li>
                        </ul>
                    </div>
                </div>

                <div class="module" id="graph">
                    <div class="layer-badge">4</div>
                    <div class="module-header">
                        <div class="module-icon">üï∏Ô∏è</div>
                        <div class="module-title">Graph Database</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">Neo4j</span>
                        <span class="tech-tag">NetworkX</span>
                        <ul>
                            <li>**Fraud Ring Detection**</li>
                            <li>Mule Account Tracking</li>
                            <li>Link Prediction (Entities)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="module" id="blockchain">
                    <div class="layer-badge">4</div>
                    <div class="module-header">
                        <div class="module-icon">‚õìÔ∏è</div>
                        <div class="module-title">Evidence Ledger</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">Hyperledger</span>
                        <span class="tech-tag">Ethereum (PoC)</span>
                        <ul>
                            <li>**Immutable Evidence Chain**</li>
                            <li>Smart Contracts for Auto Fund Freeze</li>
                            <li>Audit Trail & Non-Repudiation</li>
                        </ul>
                    </div>
                </div>

                <div class="module" id="dashboard">
                    <div class="layer-badge">5</div>
                    <div class="module-header">
                        <div class="module-icon">üìä</div>
                        <div class="module-title">Visualization & UI</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">React.js</span>
                        <span class="tech-tag">Mapbox</span>
                        <ul>
                            <li>Real-time Risk Heatmaps</li>
                            <li>Interactive Network Graphs</li>
                            <li>Drill-down Analytics & Temporal Sliders</li>
                        </ul>
                    </div>
                </div>
                
                <div class="module" id="enforcement">
                    <div class="layer-badge">5</div>
                    <div class="module-header">
                        <div class="module-icon">üëÆ</div>
                        <div class="module-title">LEA Case Portal</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">FastAPI</span>
                        <span class="tech-tag">OAuth 2.0</span>
                        <ul>
                            <li>Secure Case Management</li>
                            <li>Evidence and Report Generation</li>
                            <li>RBAC Access & Audit Logs</li>
                        </ul>
                    </div>
                </div>

                <div class="module" id="alerts">
                    <div class="layer-badge">6</div>
                    <div class="module-header">
                        <div class="module-icon">üö®</div>
                        <div class="module-title">Alert & Notification System</div>
                    </div>
                    <div class="module-content">
                        <span class="tech-tag">Twilio/NIC SMS</span>
                        <span class="tech-tag">RabbitMQ</span>
                        <ul>
                            <li>**High-Risk SMS/Email Alerts**</li>
                            <li>Bank SOC Webhooks (API Calls)</li>
                            <li>Push Notifications (FCM)</li>
                        </ul>
                    </div>
                </div>

                <div class="module" id="actions">
                    <div class="layer-badge">6</div>
                    <div class="module-header">
                        <div class="module-icon">‚ö°</div>
                        <div class="module-title">Automated Response</div>
                    </div>
                    <div class="module-content">
                        <ul>
                            <li>Automated **Account Freeze API Call**</li>
                            <li>Transaction Blocking (High-Risk)</li>
                            <li>LEA Team Dispatch Workflow</li>
                            <li>Evidence Preservation Trigger</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="security-badge">
                üîí **CYBER SECURITY & COMPLIANCE**<br>
                <span class="glow-text">AES-256 Encryption | TLS 1.3 | CERT-In Compliant</span><br>
                SIEM (ELK/Splunk) | Role-Based Access Control (RBAC)
            </div>
        </div>
    </div>
    
    <script>
        // Draw connecting lines between modules
        const svg = document.getElementById('connections');
        const container = document.querySelector('.grid-container');
        
        /**
         * Calculates coordinates relative to the grid-container and draws a Z-shaped path.
         * The marker-end attribute is added in the SVG definition for directional flow.
         * @param {string} from - ID of the source element.
         * @param {string} to - ID of the destination element.
         * @param {boolean} verticalFlow - If true, draws straight down/up. If false (default), uses Z-shape.
         */
        function drawLine(from, to, verticalFlow = false) {
            const fromEl = document.getElementById(from);
            const toEl = document.getElementById(to);
            
            if (!fromEl || !toEl) return;
            
            const fromRect = fromEl.getBoundingClientRect();
            const toRect = toEl.getBoundingClientRect();
            const containerRect = container.getBoundingClientRect();
            
            // Calculate center points relative to the SVG container (which covers the grid)
            const x1 = fromRect.left + fromRect.width / 2 - containerRect.left;
            const y1 = fromRect.bottom - containerRect.top; // Bottom of source
            const x2 = toRect.left + toRect.width / 2 - containerRect.left;
            const y2 = toRect.top - containerRect.top; // Top of destination
            
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            let pathD;

            if (verticalFlow) {
                // Direct vertical line for simple row-to-row flow
                pathD = `M ${x1} ${y1} L ${x1} ${y2}`;
            } else {
                // Z-shaped line for cross-column or cleaner vertical flow
                const midY = (y1 + y2) / 2;
                pathD = `M ${x1} ${y1} L ${x1} ${midY} L ${x2} ${midY} L ${x2} ${y2}`;
            }

            line.setAttribute('d', pathD);
            line.setAttribute('class', 'flow-arrow');
            line.setAttribute('marker-end', 'url(#arrowhead)');
            svg.appendChild(line);
        }
        
        // Define connections and re-draw on resize
        function drawConnections() {
            // Clear existing lines
            svg.innerHTML = `
                <defs>
                    <marker id="arrowhead" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                        <path d="M 0 0 L 10 5 L 0 10 z" />
                    </marker>
                </defs>
            `;

            // Layer 1 -> Layer 2
            drawLine('sources', 'preprocessing', false);
            drawLine('ingestion', 'preprocessing', false);

            // Layer 2 -> Layer 3
            drawLine('preprocessing', 'nlp', true); // Straight down

            // Layer 3 -> Layer 4
            drawLine('nlp', 'storage', false); 
            drawLine('nlp', 'graph', false);
            drawLine('nlp', 'ml', false);
            drawLine('ml', 'storage', false); 
            drawLine('geospatial', 'storage', false);
            drawLine('graph', 'blockchain', false);

            // Layer 4 -> Layer 5
            drawLine('storage', 'dashboard', false); 
            drawLine('blockchain', 'dashboard', false);
            drawLine('dashboard', 'enforcement', false);

            // Layer 5 -> Layer 6
            drawLine('dashboard', 'alerts', true); 
            drawLine('enforcement', 'alerts', true);

            // Layer 6 -> Action
            drawLine('alerts', 'actions', true); 
        }

        // Execute and bind to window events
        window.addEventListener('load', drawConnections);
        window.addEventListener('resize', drawConnections);
    </script>
</body>

</html>
